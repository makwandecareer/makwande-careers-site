<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Makwande Careers — Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
</head>
<body>
<header class="site-header">
  <div class="container nav">
    <a class="brand" href="index.html">Makwande <span>Careers</span></a>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="jobs.html">Jobs</a>
      <a class="active" href="dashboard.html">Dashboard</a>
    </nav>
  </div>
</header>

<main class="section">
  <div class="container">
    <h1>Dashboard</h1>
    <div class="grid-3">
      <div class="card">
        <h3>Your profile</h3>
        <p id="prof" class="muted">Loading…</p>
        <div class="actions">
          <a class="btn btn-ghost" href="signup.html">Edit profile</a>
        </div>
      </div>
      <div class="card">
        <h3>Saved jobs</h3>
        <ul id="saved" class="muted" style="padding-left:1rem"></ul>
        <div class="actions">
          <button id="clearSaved" class="btn btn-ghost">Clear saved</button>
          <a class="btn btn-primary" href="jobs.html">Find jobs</a>
        </div>
      </div>
      <div class="card">
        <h3>Tools</h3>
        <p class="muted">Build a cover letter or refresh your CV.</p>
        <div class="actions">
          <a class="btn btn-ghost" href="cover.html">Cover letter</a>
          <a class="btn btn-ghost" href="revamp.html">Revamp CV</a>
        </div>
      </div>
    </div>
  </div>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <p>© <span id="year"></span> Makwande Careers</p>
    <nav class="footer-links">
      <a href="index.html">Home</a><a href="jobs.html">Jobs</a>
    </nav>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', ()=>{
  const y=document.getElementById('year'); if (y) y.textContent=new Date().getFullYear();

  // Profile
  const prof=JSON.parse(localStorage.getItem('mk_profile')||'{}');
  document.getElementById('prof').textContent = prof.name
    ? ${prof.name} • ${prof.email||''} • ${prof.location||''}
    : 'No profile found. Create one to speed up applications.';

  // Saved jobs (anything you want can push to localStorage under mk_saved_jobs)
  const saved = JSON.parse(localStorage.getItem('mk_saved_jobs')||'[]');
  document.getElementById('saved').innerHTML = saved.length
    ? saved.map(j=><li><a href="${j.url}" target="_blank" rel="noopener">${j.title} — ${j.company}</a></li>).join('')
    : '<li>No saved jobs yet.</li>';

  document.getElementById('clearSaved')?.addEventListener('click',()=>{
    localStorage.removeItem('mk_saved_jobs');
    location.reload();
  });
});
</script>
</body>
</html>