<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Makwande Careers — Log In</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
</head>
<body>
<header class="site-header">
  <div class="container nav">
    <a class="brand" href="index.html">Makwande <span>Careers</span></a>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="jobs.html">Jobs</a>
      <a href="signup.html">Sign up</a>
      <a class="active" href="login.html">Log in</a>
    </nav>
  </div>
</header>

<main class="section">
  <div class="container" style="max-width:520px">
    <h1>Welcome back</h1>
    <form id="loginForm" class="card" novalidate>
      <div class="field">
        <label for="lemail">Email</label>
        <input id="lemail" type="email" required placeholder="you@email.com" />
      </div>
      <div class="field">
        <label for="lpass">Password</label>
        <input id="lpass" type="password" required />
      </div>
      <div class="actions">
        <button class="btn btn-primary" type="submit">Log in</button>
        <a class="btn btn-ghost" href="signup.html">Create account</a>
      </div>
    </form>

    <div id="loginToast" class="empty hidden"><div class="empty-inner">
      <h3>Logged in ✅</h3>
      <p>Taking you to your dashboard…</p>
    </div></div>
  </div>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <p>© <span id="year"></span> Makwande Careers</p>
    <nav class="footer-links">
      <a href="index.html">Home</a><a href="jobs.html">Jobs</a>
    </nav>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const y=document.getElementById('year'); if (y) y.textContent=new Date().getFullYear();
  const f=document.getElementById('loginForm'), toast=document.getElementById('loginToast');
  if (!f) return;

  f.addEventListener('submit',(e)=>{
    e.preventDefault();
    const email=document.getElementById('lemail').value.trim().toLowerCase();
    const profile=JSON.parse(localStorage.getItem('mk_profile')||'{}');
    if (profile.email===email) {
      sessionStorage.setItem('mk_session', JSON.stringify({ email, ts: Date.now() }));
      toast?.classList.remove('hidden');
      setTimeout(()=>location.href='dashboard.html', 800);
    } else {
      alert('We couldn’t find that account. Please sign up first.');
    }
  });
});
</script>
</body>
</html>
